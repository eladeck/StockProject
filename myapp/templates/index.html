{% extends "base.html" %}

{% block content %}
    <!--
    <div class="row">
        <div class="col-11 text-left">Top Stocks</div>
        <div class="col-1 text-right">X</div>
    </div>
    -->


{% csrf_token %}
<form action="topbuysell" method="GET">
    {% csrf_token %}
    <div class="row mb-4">
        <div class="col-1">
            <label class="mt-1" for="from_date">From: </label>
        </div>
        <div class="col-2">
            <input class="form-control" type="date" id="from_date" name="from_date">
        </div>
        <div class="col-1">
            <label class="mt-1" for="to_date">To</label>
        </div>
        <div class="col-2">
            <input class="form-control" type="date" id="to_date" name="to_date">
        </div>
        <div class="col-3">
            <div class="form-check mt-1">
                <input class="form-check-input" type="checkbox" value="1" name="current_user_only"
                    id="current_user_only">
                <label class="form-check-label" for="current_user_only">
                    Current Use Only
                </label>
            </div>
        </div>
        <div class="col-2">
            <div class="form-check mt-1">
                <input class="form-check-input" type="checkbox" value="1" name="CB_Stock" id="CB_Stock">
                <label class="form-check-label" for="current_user_only">
                    Stock
                </label>
            </div>
        </div>

    </div>

    <div class="row mt-4">
        <div class="col-1">
            <label class="form-check-label">
                Period:
            </label>
        </div>
        <div class="col-1">
            <div class="form-check">
                <input class="form-check-input" type="radio" name="RBPeriod" id="RBAnnually" value="Annually" checked>
                <label class="form-check-label" for="RBAnnually">
                    Annually
                </label>
            </div>
        </div>
        <div class="col-1">
            <div class="form-check">
                <input class="form-check-input" type="radio" name="RBPeriod" id="RBMonthly" value="Monthly" checked>
                <label class="form-check-label" for="RBMonthly">
                    Monthly
                </label>
            </div>
        </div>
        <div class="col-1">
            <div class="form-check">
                <input class="form-check-input" type="radio" name="RBPeriod" id="RBDaily" value="Daily" checked>
                <label class="form-check-label" for="RBDaily">
                    Daily
                </label>
            </div>
        </div>
        <div class="col text-right">
            <input class="btn btn-primary" type="submit" value=" Load ">
        </div>
    </div>
    <table class="table table-hover data-table mt-5">
        <tr>
            <th>#</th>
            <th>Date</th>
            <th>Name</th>
            <th>Stock</th>
            <th>Sell</th>
            <th>Buy</th>
        </tr>
        {% for stock in top_buy_sell_list %}
        <tr class="clickable-row" data-href="/stock/{{ stock.symbol }}">
            <td>{{ forloop.counter }}</td>
            <td>{{ stock.f_date }}</td>
            <td>{{ stock.full_name }}</td>
            <td>{{ stock.stock_symbol }}</td>
            <td>{{ stock.sell|floatformat:1 }}</td>
            <td>{{ stock.buy|floatformat:1 }}</td>
        </tr>
        {% endfor %}
    </table>
</form>
    {% endblock %}

 {% block scripts %}
<script>
$(document).ready(function () {
    var today = new Date().toISOString().split('T')[0];
    $('#from_date').val(today);
    $('#to_date').val(today);

})
</script>
{% endblock scripts %}

